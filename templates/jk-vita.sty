%%% A template to produce a nice-looking Curriculum Vitae.
%%% Kieran Healy <kjhealy@gmail.com>
%%% Most recent version is at http://kjhealy.github.com/kjh-vita
%%%
%%% ------------------------------------------------------------------------
%%% Requirements (should be included in a modern tex distribution):
%%% ------------------------------------------------------------------------
%%% xelatex
%%% fontspec.sty
%%% hyperrref.sty
%%% xunicode.sty
%%% color.sty
%%% url.sty
%%% fancyhdr.sty
%%%
%%% ------------------------------------------------------------------------
%%% Optional
%%% ------------------------------------------------------------------------
%%% git
%%% vc.sty
%%% revnum.sty
%%% Fonts
%%%
%%% ------------------------------------------------------------------------
%%% Note
%%%------------------------------------------------------------------------
%%% Because this is a hand-tweaked file, be on the look out for \medskip, 
%%% \bigskip and \newpage commands here and there, which are used to balance
%%% the layout or avoid widows & orphans, etc. You should of course add or 
%%% remove these as needed.
%%%------------------------------------------------------------------------


%%%------------------------------------------------------------------------
%%% Metadata
%%%------------------------------------------------------------------------

%% Change as needed. Or just add me as a coauthor. Only some of these are 
%% used below in the hyperref declaration and address banner section.
\def\myauthor{James Keirstead}
\def\mytitle{Vita}
\def\mycopyright{\myauthor}
\def\mykeywords{}
\def\mybibliostyle{plain}
\def\mybibliocommand{}
\def\mysubtitle{}
\def\myaffiliation{Imperial College London}
\def\myaddress{Department of Civil and Environmental Engineering}
\def\myemail{j.keirstead@imperial.ac.uk}
\def\myweb{http://www.jameskeirstead.ca}
\def\myphone{+44 (0) 207 594 6010}
\def\myfax{+44 (0) 207 594 5934}
\def\myversion{}
\def\myrevision{}

\date{} % not used (revision control instead)
\def\mykeywords{James, Keirstead, James Keirstead, Vita, CV, Resume, Engineering}

%%%------------------------------------------------------------------------  
%%% Git version tracking 
%%%------------------------------------------------------------------------

%% If you don't use git or the vc package (from CTAN), comment this out.
%% If you comment it out, be sure to remove the \rfoot comment below, too.
%% See vc manual to compile with xelatex -enable-write18 vita
\immediate\write18{vc.bat}
\input{vc}

%%%------------------------------------------------------------------------
%%% Required style files
%%%------------------------------------------------------------------------
%%\usepackage{revnum} % for reverse-numbered publications (revnumerate environment) if needed.

%% needed for xelatex to work
\usepackage{fontspec}
\usepackage{xunicode}

%% color for the links 
\usepackage[usenames,dvipsnames]{xcolor}
\definecolor{ImperialBlue}{rgb}{0.082,0.416,0.608}
\definecolor{ImperialLightBlue}{rgb}{0.545,0.682,0.8}

% Bibliography stuff
\bibliography{../content/papers}
\addtocategory{books}{Keirstead2013a}
\addtocategory{papers}{Chester2014, Keirstead2014, Keirstead2014a, Keirsteada, Morlet_Keirstead_2013, Keirstead2011b, Rutter2012, Calderon2012, Keirstead2012b, Keirstead, Keirstead2011c, Keirstead2012a, Liang2012, Keirstead2010c, Liang2011, Keirstead2010b, Keirstead2009h, Keirstead2009b, Keirstead2008a, Keirstead2008, Keirstead2007b, Keirstead2007c, Keirstead2006a, Pfenninger2014a, Pfenninger2014, Pfenninger2013, Koppelaar2014}
\addtocategory{chapters}{Shah2012, Keirstead2013, Keirstead2012c, Grubler2011, Hammer2011, Schulzb, Keirstead2009f, Keirstead2010}
\addtocategory{conferences}{Giarola2013, Keirstead2011d, VanDam2011, VanDam2010, Weber2010, Keirstead2010d, Kostantinidis2010, Keirstead2010e, Keirstead2009g, Keirstead2009e, Keirstead2009c, Keirstead2009a, Keirstead2007, Keirstead2005b, Keirstead2005a, Baldock2015, Mijic2014, Sailer2015, Ravalde2014, Baedeker2014,  Pfenninger2014d, Walker2014, Pfenninger2014c, Pfenninger2014b, Keirstead2013b, Calderon2012a, Graham2012}
\addtocategory{other}{Keirstead2013c, Keirstead2013d, Keirstead2010a, Keirstead2008b, Keirstead2007a, Keirstead2005, Keirstead2010f, Keirstead2004, Keirstead2014b, Keirstead2014c, Keirstead2008c} 

%% hyperlinks
\hypersetup{xetex, 
	colorlinks=true,
	urlcolor=ImperialBlue,
	plainpages=false,
  	pdfpagelabels,
  	bookmarksnumbered,
  	pdftitle={\mytitle},
  	pagebackref,
  	pdfauthor={\myauthor},
  	pdfkeywords={\mykeywords}
  	}

%% Choose fonts for use with xelatex
%% Minion and Myriad are widely available, from Adobe. 
%% Pragmata is available to buy at http://www.fsd.it/fonts/pragma.htm
%% and is worth every penny. Any good monospace font will work fine, though.
%% Consolas or inconsolata are good alternatives.
\setromanfont[Mapping={tex-text},Numbers={OldStyle},Ligatures={Common}]{Minion Pro} 
\setsansfont[Mapping=tex-text,Colour=156a9b]{Myriad Pro}
\setmonofont[Mapping=tex-text,Scale=0.9]{Avenir Next Condensed Regular} % Consolas, Pragmata, Lucida Console


%%%------------------------------------------------------------------------
%%% Local commands
%%%------------------------------------------------------------------------

%% Marginal header
%% Note: as the document goes on you may need to introduce a (gradually increasing)
%% \vspace element to keep the marginal header pleasingly aligned with the first 
%% item in the body text. Like this: \marginhead{{\vskip 0.4em}Grants}, or 
%% \marginhead{{\vskip 0.8em}Service}. Experiment as needed.
\newcommand{\marginhead}[1]{\marginpar{\textsf{{\footnotesize #1}}}}


%% custom ampersand (font consistent with the one chosen above)
\newcommand{\amper}{{\fontspec[Scale=.95,Colour=AA0000]{Minion Pro Medium}\selectfont\&\,}}

%% No bullets on labels
\renewcommand{\labelitemi}{~} 

%% Custom hanging indent for vita items
\def\ind{\hangindent=1 true cm\hangafter=1 \noindent}
%\def\ind{\hangindent=18pt\hangafter=1 \noindent}
\def\labelitemi{~}
\renewcommand{\labelitemii}{~}

%%%------------------------------------------------------------------------
%%% Page layout
%%%------------------------------------------------------------------------
\pagestyle{fancy}
\renewcommand{\headrulewidth}{0pt}
\fancyhead{}
\fancyfoot{}
\rhead{{\scriptsize\thepage}}

%% git revision control footer 
\rfoot{\textcolor{Gray}{\texttt{\scriptsize \VCRevision\ on \VCDateTEX}}} % git revision info inserted via external script -- see docs for vc package for details. comment out this line if you're not using vc, and also remove the \input{vc} line above.

\newcommand{\makeheader}{%
%%%------------------------------------------------------------------------
%%% Address and contact block
%%%------------------------------------------------------------------------
\begin{minipage}[t]{2.95in}
\flushright {\footnotesize \href{http://www.imperial.ac.uk/civilengineering}{Department of Civil \& Env.\ Engineering} \\ Imperial College London \\ London, UK\\ \vspace{-0.04in} SW7 2AZ}   
\end{minipage}
\hfill     
%\begin{minipage}[t]{0.0in}
% dummy (needed here)
%\end{minipage}
\hfill
\begin{minipage}[t]{1.7in}
  \flushright \footnotesize Phone: \myphone \\ 
  Fax: \myfax  \\ 
  {\scriptsize  \texttt{\href{mailto:\myemail}{\myemail}}} \\
  {\scriptsize  \texttt{\href{\myweb}{\myweb}}}
\end{minipage}


\bigskip

\bigskip

%% Name 
\noindent{\Large {D\textsc{r} J\textsc{ames} K\textsc{eirstead}}} {\scriptsize \textsc{CEng MEI}}
\reversemarginpar
\raggedright
}